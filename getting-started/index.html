
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://seanangio.github.io/nps-hikes/getting-started/">
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../data/">
      
      
        
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.3">
    
    
      
        <title>Getting Started - NPS Hikes</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#getting-started" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="NPS Hikes" class="md-header__button md-logo" aria-label="NPS Hikes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            NPS Hikes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Getting Started
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/seanangio/nps-hikes" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="NPS Hikes" class="md-nav__button md-logo" aria-label="NPS Hikes" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    NPS Hikes
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/seanangio/nps-hikes" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#step-0-prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 0: Prerequisites
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-1-clone-the-repository" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 1: Clone the repository
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-2-set-up-a-python-environment" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 2: Set up a Python environment
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-3-configure-environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 3: Configure environment variables
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-4-personalize-the-raw-data" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 4: Personalize the raw data
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step 4: Personalize the raw data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#park-visit-log" class="md-nav__link">
    <span class="md-ellipsis">
      
        Park visit log
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#google-my-maps-hiking-data" class="md-nav__link">
    <span class="md-ellipsis">
      
        Google My Maps hiking data
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Google My Maps hiking data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-it-works" class="md-nav__link">
    <span class="md-ellipsis">
      
        How it works
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-your-hiking-maps" class="md-nav__link">
    <span class="md-ellipsis">
      
        Create your hiking maps
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#export-and-add-kml-files" class="md-nav__link">
    <span class="md-ellipsis">
      
        Export and add KML files
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-5-start-the-docker-services" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 5: Start the Docker services
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-6-run-the-data-collection-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 6: Run the data collection pipeline
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step 6: Run the data collection pipeline">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#verify-the-test-run" class="md-nav__link">
    <span class="md-ellipsis">
      
        Verify the test run
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-the-full-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      
        Run the full pipeline
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-7-explore-your-data" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 7: Explore your data
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step 7: Explore your data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#interactive-api-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Interactive API documentation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quick-examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Quick examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stopping-and-restarting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Stopping and restarting
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Troubleshooting
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#set-postgres_password-in-env" class="md-nav__link">
    <span class="md-ellipsis">
      
        "Set POSTGRES_PASSWORD in .env"
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pipeline-cant-connect-to-the-database" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pipeline can't connect to the database
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit-log-file-not-found" class="md-nav__link">
    <span class="md-ellipsis">
      
        "Visit log file not found"
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-containers-wont-start" class="md-nav__link">
    <span class="md-ellipsis">
      
        Docker containers won't start
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api-returns-empty-results-after-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      
        API returns empty results after pipeline
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      
        Next steps
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data Sources and Schema
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../api-tutorial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Using the API
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#step-0-prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 0: Prerequisites
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-1-clone-the-repository" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 1: Clone the repository
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-2-set-up-a-python-environment" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 2: Set up a Python environment
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-3-configure-environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 3: Configure environment variables
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-4-personalize-the-raw-data" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 4: Personalize the raw data
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step 4: Personalize the raw data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#park-visit-log" class="md-nav__link">
    <span class="md-ellipsis">
      
        Park visit log
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#google-my-maps-hiking-data" class="md-nav__link">
    <span class="md-ellipsis">
      
        Google My Maps hiking data
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Google My Maps hiking data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-it-works" class="md-nav__link">
    <span class="md-ellipsis">
      
        How it works
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-your-hiking-maps" class="md-nav__link">
    <span class="md-ellipsis">
      
        Create your hiking maps
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#export-and-add-kml-files" class="md-nav__link">
    <span class="md-ellipsis">
      
        Export and add KML files
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-5-start-the-docker-services" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 5: Start the Docker services
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-6-run-the-data-collection-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 6: Run the data collection pipeline
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step 6: Run the data collection pipeline">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#verify-the-test-run" class="md-nav__link">
    <span class="md-ellipsis">
      
        Verify the test run
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-the-full-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      
        Run the full pipeline
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-7-explore-your-data" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 7: Explore your data
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step 7: Explore your data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#interactive-api-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Interactive API documentation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quick-examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Quick examples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stopping-and-restarting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Stopping and restarting
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Troubleshooting
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#set-postgres_password-in-env" class="md-nav__link">
    <span class="md-ellipsis">
      
        "Set POSTGRES_PASSWORD in .env"
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pipeline-cant-connect-to-the-database" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pipeline can't connect to the database
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visit-log-file-not-found" class="md-nav__link">
    <span class="md-ellipsis">
      
        "Visit log file not found"
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-containers-wont-start" class="md-nav__link">
    <span class="md-ellipsis">
      
        Docker containers won't start
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api-returns-empty-results-after-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      
        API returns empty results after pipeline
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      
        Next steps
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="getting-started">Getting Started</h1>
<p>This guide walks through locally setting up this NPS hiking project from scratch. By the end, you'll have a PostGIS database with all 63 US national parks and hundreds of hiking trails, queryable through an interactive API.</p>
<blockquote>
<p><strong>Tip:</strong> Instead of a local setup, you can also explore a live demo of the Swagger UI docs at <a href="https://seanangio-nps-hikes.onrender.com/docs">seanangio-nps-hikes.onrender.com/docs</a>. To query the visualization endpoints however, continue with the local setup instructions here.</p>
</blockquote>
<h2 id="step-0-prerequisites">Step 0: Prerequisites</h2>
<p>Before you begin, make sure you have the following:</p>
<ul>
<li><strong>Docker Desktop</strong>: <a href="https://www.docker.com/products/docker-desktop/">Install Docker Desktop</a> for your operating system. Docker runs the database and API in containers so you don't need to install PostgreSQL or PostGIS locally.</li>
<li><strong>Python 3.12+</strong>: The data collection pipeline runs on your local machine. Check your version with <code>python3 --version</code>. If you need to install or upgrade, see <a href="https://www.python.org/downloads/">python.org</a>.</li>
<li><strong>Git</strong>: Install <a href="https://git-scm.com/install/">Git</a> for your operating system to clone the repository.</li>
<li>An <strong>NPS API key</strong>: Free to sign up at the <a href="https://www.nps.gov/subjects/developer/get-started.htm">NPS Developer Portal</a>. You should receive a key by email within minutes.</li>
</ul>
<h2 id="step-1-clone-the-repository">Step 1: Clone the repository</h2>
<p>Start by cloning the repository.</p>
<pre><code class="language-bash">git clone https://github.com/seanangio/nps-hikes.git
cd nps-hikes
</code></pre>
<h2 id="step-2-set-up-a-python-environment">Step 2: Set up a Python environment</h2>
<p>Create a virtual environment, and install the project dependencies. You need them for the data collection pipeline, which runs outside of Docker.</p>
<pre><code class="language-bash">python3.12 -m venv .venv
source .venv/bin/activate    # On Windows: .venv\Scripts\activate
pip install -r requirements.txt
</code></pre>
<h2 id="step-3-configure-environment-variables">Step 3: Configure environment variables</h2>
<p>Copy the example environment file, and fill in your credentials:</p>
<pre><code class="language-bash">cp .env.example .env
</code></pre>
<p>Open <code>.env</code> in your editor. You need to set two values:</p>
<pre><code class="language-dotenv"># Required: your NPS API key from Step 0
NPS_API_KEY=your_actual_api_key

# Required: choose any password for the Docker database
POSTGRES_PASSWORD=choose_a_password
</code></pre>
<p>The remaining defaults work as-is for the Docker setup:</p>
<pre><code class="language-dotenv"># No changes required for these defaults
POSTGRES_USER=postgres
NPS_USER_EMAIL=your_email@example.com
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=nps_hikes_db
</code></pre>
<blockquote>
<p><strong>How the project uses the <code>.env</code> file:</strong> Docker Compose reads it automatically to configure the database container. The Python scripts also read it (via <code>python-dotenv</code>) for API credentials and database connections.</p>
</blockquote>
<h2 id="step-4-personalize-the-raw-data">Step 4: Personalize the raw data</h2>
<p>The repository includes two types of sample raw data that you can substitute with your own.</p>
<h3 id="park-visit-log">Park visit log</h3>
<p>The file <code>raw_data/park_visit_log.csv</code> records which parks you've visited:</p>
<pre><code class="language-csv">park_name,month,year
Yosemite,July,2023
Grand Canyon,March,2024
Acadia,Oct,2024
</code></pre>
<p>Edit this file with your own visits. The <code>park_name</code> column requires the common short name (for example, "Yosemite" not "Yosemite National Park"). The collector appends "National Park" automatically, so "Yosemite" becomes "Yosemite National Park" and matches directly.</p>
<p>For parks with other designations like "National Park &amp; Preserve," the collector falls back to substring matching. For example, "Denali" doesn't match "Denali National Park &amp; Preserve" exactly, but the pipeline finds a match because the string "Denali" is a substring of the official name.</p>
<p>Make sure your entry is an exact substring of the official name. For example, use "Redwood" (not "Redwoods") for Redwood National and State Parks.</p>
<blockquote>
<p><strong>Tip:</strong> When you test the pipeline below in Step 6, it processes the first NPS park alphabetically (Acadia). If you include <strong>Acadia</strong> in your visit log, you'll have a visited park with trail data to explore.</p>
</blockquote>
<h3 id="google-my-maps-hiking-data">Google My Maps hiking data</h3>
<p>The <code>raw_data/gmaps/</code> directory contains KML files with hiking locations exported from <a href="https://www.google.com/maps/d/">Google My Maps</a>. The pipeline uses these named points to match hiking locations to trail geometries, and then collects elevation data for the matched trails. This enables personalized trail matching, hiked/unhiked filtering, and 3D trail visualizations with elevation profiles.</p>
<blockquote>
<p><strong>Tip:</strong> The repository includes sample KML files from the author's hikes. You can substitute your own files following the instructions below. Otherwise, leave the samples as-is, and skip ahead to <a href="#step-5-start-the-docker-services">Step 5</a>.</p>
</blockquote>
<h4 id="how-it-works">How it works</h4>
<p>The pipeline processes every <code>.kml</code> file in the <code>raw_data/gmaps/</code> directory. Inside each KML file, it looks for <strong>folders</strong> (layers) named for 4-letter park codes, and reads the placemarks within them. A single Google My Maps KML file can contain up to ten layers (one per park).</p>
<blockquote>
<p><strong>Finding park codes:</strong> You can find the 4-letter abbreviation for each park on the <a href="https://www.nps.gov/">NPS website</a> in each park's URL. Once the API is running, they're also available at <code>http://localhost:8000/parks</code>.</p>
</blockquote>
<h4 id="create-your-hiking-maps">Create your hiking maps</h4>
<p>In <a href="https://www.google.com/maps/d/">Google My Maps</a>, create one or more maps for your hikes:</p>
<ol>
<li>Add a <strong>layer</strong> for each park, named according to the 4-letter park code (for example, <code>zion</code>).</li>
<li>Add placemarks to each layer for the trails or locations you've hiked.</li>
</ol>
<h4 id="export-and-add-kml-files">Export and add KML files</h4>
<p>Export each map as a KML file, and save the files to <code>raw_data/gmaps/</code>:</p>
<pre><code>raw_data/gmaps/
├── nps_points_west.kml    # could contain layers: zion, yose, grca, ...
└── nps_points_east.kml    # could contain layers: acad, shen, grsm, ...
</code></pre>
<h2 id="step-5-start-the-docker-services">Step 5: Start the Docker services</h2>
<p>Make sure Docker Desktop is running. Then launch the database and API containers:</p>
<pre><code class="language-bash">docker compose up --build -d
</code></pre>
<p>This starts two services:</p>
<table>
<thead>
<tr>
<th>Service</th>
<th>Port</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>db</code></td>
<td>5433</td>
<td>PostGIS database (mapped to 5433 to avoid conflicts with any local PostgreSQL)</td>
</tr>
<tr>
<td><code>api</code></td>
<td>8000</td>
<td>FastAPI REST API</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>Tip:</strong> The first run may take a few minutes while Docker downloads the base images. Subsequent runs are much faster.</p>
</blockquote>
<p>On first startup, the database container automatically creates the required PostGIS and pg_trgm extensions and runs all schema migrations. You can verify the services are running:</p>
<pre><code class="language-bash">docker compose ps
</code></pre>
<p>You should see both <code>db</code> and <code>api</code> with a status of "Up" (the database should show "healthy").</p>
<blockquote>
<p><strong>Note:</strong> The database uses port <strong>5433</strong> on your machine, not the standard 5432. This is intentional to avoid conflicts if you have PostgreSQL installed locally.</p>
</blockquote>
<h2 id="step-6-run-the-data-collection-pipeline">Step 6: Run the data collection pipeline</h2>
<p>Next, populate the database with park and trail data. The pipeline runs on your local machine and writes to the Docker database.</p>
<p>Since the Docker database is on port 5433, override the port when running the pipeline:</p>
<pre><code class="language-bash">POSTGRES_HOST=localhost POSTGRES_PORT=5433 python scripts/orchestrator.py --write-db --test-limit 1
</code></pre>
<p>The <code>--test-limit 1</code> flag processes only one park, so you can verify it works before committing to the full run. Due to the elevation data collection step, this test run may take approximately 10 minutes.</p>
<p>The pipeline runs six steps in order:</p>
<table>
<thead>
<tr>
<th>Step</th>
<th>What it does</th>
<th>Data source</th>
</tr>
</thead>
<tbody>
<tr>
<td>1. NPS Data Collection</td>
<td>Park metadata, coordinates, and boundary polygons</td>
<td><a href="https://www.nps.gov/subjects/developer/">NPS API</a></td>
</tr>
<tr>
<td>2. OSM Trails Collection</td>
<td>Hiking trails within park boundaries</td>
<td><a href="https://www.openstreetmap.org/">OpenStreetMap</a></td>
</tr>
<tr>
<td>3. TNM Trails Collection</td>
<td>Official trail data within park boundaries</td>
<td><a href="https://www.usgs.gov/programs/national-geospatial-program/national-map">The National Map</a></td>
</tr>
<tr>
<td>4. GMaps Import</td>
<td>Hiking locations from Google My Maps KML files</td>
<td>KML files in <code>raw_data/gmaps/</code></td>
</tr>
<tr>
<td>5. Trail Matching</td>
<td>Matches GMaps locations to TNM or OSM trail geometries</td>
<td>Internal</td>
</tr>
<tr>
<td>6. Elevation Collection</td>
<td>Elevation profiles for matched trails</td>
<td><a href="https://apps.nationalmap.gov/epqs/">USGS EPQS</a></td>
</tr>
</tbody>
</table>
<h3 id="verify-the-test-run">Verify the test run</h3>
<p>First, confirm that the pipeline created and populated the tables by querying the database directly:</p>
<pre><code class="language-bash">docker compose exec db bash -c 'psql -U &quot;$POSTGRES_USER&quot; -d &quot;$POSTGRES_DB&quot; -c &quot;SELECT park_code, park_name FROM parks;&quot;'
</code></pre>
<blockquote>
<p><strong>Tip:</strong> You should see the park code and name of parks collected (one if you used <code>--test-limit 1</code>). This runs <code>psql</code> inside the already-running database container, so you don't need PostgreSQL installed locally.</p>
</blockquote>
<p>You can also verify through the API:</p>
<pre><code class="language-bash">curl http://localhost:8000/parks | python3 -m json.tool
</code></pre>
<p>You should see a JSON response with <code>park_count</code> showing the number of parks collected and a <code>parks</code> array with details for each one.</p>
<h3 id="run-the-full-pipeline">Run the full pipeline</h3>
<p>Once you've confirmed the test run works, collect data for all 63<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup> national parks:</p>
<pre><code class="language-bash">POSTGRES_HOST=localhost POSTGRES_PORT=5433 python scripts/orchestrator.py --write-db
</code></pre>
<p>This takes longer. If using the author's files, expect more than 2 hours for the full run. The main bottleneck is the elevation collection step, which queries the USGS EPQS API for sampled points along each matched trail (one request per point, with a rate limit delay between calls). The more trails matched from your KML files, the longer this step takes.</p>
<p>The pipeline is resumable: with <code>--write-db</code>, each collector skips parks or trails that already have data in the database, and the elevation collector also maintains a persistent cache of individual elevation lookups. If something interrupts a run, re-running the same command picks up roughly where it left off. To force a full re-collection, pass <code>--force-refresh</code>.</p>
<blockquote>
<p><strong>Tip:</strong> The pipeline is fail-fast. If a step fails, check <code>logs/orchestrator.log</code> for details. You can also run individual collectors directly for debugging (see the <a href="https://github.com/seanangio/nps-hikes">README</a> for individual component commands).</p>
</blockquote>
<h2 id="step-7-explore-your-data">Step 7: Explore your data</h2>
<p>With the pipeline complete, you now have a database full of national park and trail data. The API should be running at <code>http://localhost:8000</code>.</p>
<h3 id="interactive-api-documentation">Interactive API documentation</h3>
<p>Open <a href="http://localhost:8000/docs">http://localhost:8000/docs</a> in your browser to access the Swagger UI. This interactive interface lets you try every endpoint, see request/response schemas, and experiment with query parameters.</p>
<h3 id="quick-examples">Quick examples</h3>
<table>
<thead>
<tr>
<th>Description</th>
<th>URL</th>
</tr>
</thead>
<tbody>
<tr>
<td>Browse all parks</td>
<td><code>http://localhost:8000/parks</code></td>
</tr>
<tr>
<td>Filter to parks you've visited</td>
<td><code>http://localhost:8000/parks?visited=true</code></td>
</tr>
<tr>
<td>See all trails for a specific park</td>
<td><code>http://localhost:8000/parks/yose/trails</code></td>
</tr>
<tr>
<td>Find long trails across all parks</td>
<td><code>http://localhost:8000/trails?min_length=10</code></td>
</tr>
<tr>
<td>Filter by state</td>
<td><code>http://localhost:8000/trails?state=CA</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>Note:</strong> The data endpoints (<code>/parks</code>, <code>/trails</code>) work immediately after the pipeline. The visualization endpoints (park maps, trail maps, elevation charts) require an additional generation step covered in the <a href="../api-tutorial/">API Tutorial</a>.</p>
</blockquote>
<h2 id="stopping-and-restarting">Stopping and restarting</h2>
<p>Here are a few handy commands for stopping and restarting the Docker services.</p>
<p><strong>Stop the services</strong> (preserving the data):</p>
<pre><code class="language-bash">docker compose down
</code></pre>
<p><strong>Restart later</strong> (no rebuild needed unless code changed):</p>
<pre><code class="language-bash">docker compose up -d
</code></pre>
<p><strong>Start fresh</strong> (removes all database data):</p>
<pre><code class="language-bash">docker compose down -v
</code></pre>
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="set-postgres_password-in-env">"Set POSTGRES_PASSWORD in .env"</h3>
<p>Docker Compose requires setting a <code>POSTGRES_PASSWORD</code>. Make sure your <code>.env</code> file exists in the project root and contains a <code>POSTGRES_PASSWORD</code> value.</p>
<h3 id="pipeline-cant-connect-to-the-database">Pipeline can't connect to the database</h3>
<p>When running the pipeline from your local machine against the Docker database, make sure you're using port 5433:</p>
<pre><code class="language-bash">POSTGRES_HOST=localhost POSTGRES_PORT=5433 python scripts/orchestrator.py --write-db
</code></pre>
<h3 id="visit-log-file-not-found">"Visit log file not found"</h3>
<p>The NPS collector expects a file at <code>raw_data/park_visit_log.csv</code>. If you don't have one, create it with just the header row:</p>
<pre><code class="language-bash">echo &quot;park_name,month,year&quot; &gt; raw_data/park_visit_log.csv
</code></pre>
<h3 id="docker-containers-wont-start">Docker containers won't start</h3>
<p>Make sure Docker Desktop is running, then try rebuilding:</p>
<pre><code class="language-bash">docker compose down
docker compose up --build
</code></pre>
<p>Check the logs for specific errors:</p>
<pre><code class="language-bash">docker compose logs db
docker compose logs api
</code></pre>
<h3 id="api-returns-empty-results-after-pipeline">API returns empty results after pipeline</h3>
<p>Verify that the pipeline wrote data to the database:</p>
<pre><code class="language-bash">curl http://localhost:8000/health
</code></pre>
<p>The response should show <code>"database": "connected"</code>. If connected but no data, re-run the pipeline and check <code>logs/orchestrator.log</code> for errors.</p>
<hr />
<h2 id="next-steps">Next steps</h2>
<ul>
<li><strong><a href="../api-tutorial/">API Tutorial</a></strong>: A guided tour of the API's query capabilities and visualizations</li>
<li><strong><a href="https://github.com/seanangio/nps-hikes">README</a></strong>; Full project documentation including architecture, testing, and data profiling</li>
</ul>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>The NPS manages Sequoia and Kings Canyon as one park (<code>seki</code>), and so it appears as one entry.&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["content.code.copy", "navigation.instant", "navigation.top", "search.suggest", "search.highlight"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>